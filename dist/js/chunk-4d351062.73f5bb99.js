(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4d351062"],{"1ee1":function(e,t,a){},"61f0":function(e,t,a){"use strict";a("1ee1")},fec9:function(e,t,a){"use strict";a.r(t);var r=a("7a23"),o={class:"grid grid-cols-3 gap-8 mt-5 px-10 mt-8"},c={class:"col-1"},n={class:"col-1"},l=Object(r["createVNode"])("hr",{class:"mt-6 mb-5"},null,-1),d={class:"px-10 mb-8"},s={class:"relative"},i=Object(r["createVNode"])("p",{class:"text-lg font-bold text-gray-800"},"Daftar Barang Order",-1),u=Object(r["createVNode"])("p",{class:"text-sm mt-0.5 text-gray-500"},"Kelola daftar barang order dibawah",-1),b=Object(r["createTextVNode"])("Reset Daftar Barang"),p=Object(r["createStaticVNode"])('<div class="mt-4 grid grid-cols-12 gap-3 bg-green-50 px-5 py-4 rounded-md font-bold text-xs text-green-500"><p class="col-span-1">ID</p><p class="col-span-3">NAMA PRODUK</p><p class="col-span-2">SATUAN</p><p class="col-span-2">HARGA SATUAN</p><p class="col-span-2">JUMLAH</p><p class="col-span-2">TOTAL</p></div>',1),m={class:"grid grid-cols-12 gap-3 px-5 mt-1 mb-1"},O={class:"col-span-4 flex relative"},j=Object(r["createVNode"])("hr",{class:"mb-3"},null,-1),_={class:"grid md:grid-cols-6 px-10"},h=Object(r["createVNode"])("div",{class:"col-span-4"},null,-1),f={class:"col-span-2 flex px-5 py-5 mb-3"},g=Object(r["createVNode"])("div",{class:"w-1/2"},[Object(r["createVNode"])("p",{class:"mb-3"},"Sub Total"),Object(r["createVNode"])("p",{class:"mb-3"},"Potongan"),Object(r["createVNode"])("p",{class:"text-xl mt-5 font-bold"},"Tagihan")],-1),k={class:"w-1/2 text-right"},v={class:"mb-3 text-right"},N={class:"flex w-full"},V=Object(r["createVNode"])("option",{value:"1"},"Rupiah",-1),x=Object(r["createVNode"])("option",{value:"2"},"Persen",-1),B={class:"text-xl mt-3 font-bold"},y={class:"font-semibold text-xs mt-2"},T={key:0,class:"text-green-600 bg-green-200 px-2 py-1 rounded-full"},w={key:1,class:"text-red-50 bg-red-600 px-2 py-1 rounded-full"},C={key:0},S={key:1},A={class:"bg-gray-50 relative mb-20 w-full mt-5"},D={class:"absolute top-1/2 transform -translate-y-2/4 right-16"},P={key:0},I={key:1},R={key:0},M={key:1},L=Object(r["createVNode"])("hr",null,null,-1),U={class:"px-10 mt-7 mb-28"},J=Object(r["createVNode"])("p",{class:"text-lg font-bold"},"Daftar Transaksi",-1),q={class:"card ml-0 text-red-100 bg-red-600 font-semibold"},H=Object(r["createTextVNode"])("Belum ada transaksi untuk order ini");function E(e,t,a,E,K,$){var G=Object(r["resolveComponent"])("formHeader"),F=Object(r["resolveComponent"])("Select"),Y=Object(r["resolveComponent"])("Date"),z=Object(r["resolveComponent"])("Text"),Q=Object(r["resolveComponent"])("x"),W=Object(r["resolveComponent"])("Trash"),X=Object(r["resolveComponent"])("formAddNewItem"),Z=Object(r["resolveComponent"])("Save"),ee=Object(r["resolveComponent"])("Cash");return Object(r["openBlock"])(),Object(r["createBlock"])("div",null,[Object(r["createVNode"])(G,{title:"Buat Pembelian Baru",subtitle:"Order pembelian baru akan dicatat disini",total:$.formatRupiah(K.order.order_total)},null,8,["total"]),Object(r["withDirectives"])(Object(r["createVNode"])("section",o,[Object(r["createVNode"])("div",c,[Object(r["createVNode"])(F,{value:K.order.order_supplier_id,options:K.data_supplier,onModel:t[1]||(t[1]=function(e){return K.order.order_supplier_id=e}),label:"Pilih Supplier",required:"true",placeholder:"Pilih Supplier",footnote:"Tidak menemukan supplier? <a class='text-blue-600' href='/#/master/supplier/baru'>Tambah baru disini</a>"},null,8,["value","options"]),Object(r["createVNode"])(F,{value:K.order.order_posisi_stok,options:K.data_posisi_stok,onModel:t[2]||(t[2]=function(e){return K.order.order_posisi_stok=e}),class:"mt-4",label:"Pilih Lokasi Stok",required:"true",placeholder:"Pilih Lokasi Stok"},null,8,["value","options"])]),Object(r["createVNode"])("div",n,[Object(r["createVNode"])(Y,{value:K.order.order_tanggal,onModel:t[3]||(t[3]=function(e){return K.order.order_tanggal=e}),label:"Tanggal",required:"true",footnote:"Tanggal pembuatan invoice dilakukan"},null,8,["value"]),Object(r["createVNode"])(Y,{value:K.order.order_tanggal_jatuh_tempo,onModel:t[4]||(t[4]=function(e){return K.order.order_tanggal_jatuh_tempo=e}),class:"mt-5",label:"Tanggal Jatuh Tempo",required:"true"},null,8,["value"])]),Object(r["createVNode"])(z,{label:"No Transaksi",value:K.order.order_id,onInput:t[5]||(t[5]=function(e){return K.order.order_id=e.target.value}),required:"false",disabled:"true",placeholder:"[Auto Generated]",footnote:"Nomor transaksi anda di<i>generate</i> secara otomatis oleh sistem"},null,8,["value"])],512),[[r["vShow"],K.order]]),l,Object(r["createVNode"])("section",d,[Object(r["createVNode"])("div",s,[i,u,Object(r["createVNode"])("button",{onClick:t[6]||(t[6]=function(e){return K.order.order_item=[]}),class:"absolute right-0 top-0 red-glow-button text-sm"},[Object(r["createVNode"])(Q,{class:"mr-1 -mt-0.5"}),b])]),p,(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])($.order_item,(function(e,t){return Object(r["openBlock"])(),Object(r["createBlock"])("div",m,[Object(r["createVNode"])("div",O,[Object(r["createVNode"])(z,{value:K.data_product[e.barang_id],class:"w-full",disabled:"true"},null,8,["value"]),Object(r["createVNode"])(W,{onClick:function(e){return $.deleteItemList(t)},width:"6",height:"6",class:"cursor-pointer text-red-500 hover:text-red-500 transition absolute px-1 py-1 -mt-1 -ml-2 rounded-full bg-red-100"},null,8,["onClick"])]),Object(r["createVNode"])(F,{onModel:function(t){return e.barang_satuan=t},value:e.barang_satuan,disabled:"true",class:"col-span-2",placeholder:"Pilih Satuan",options:K.data_satuan},null,8,["onModel","value","options"]),Object(r["createVNode"])(z,{onInput:function(t){return e.barang_harga=t.target.value},value:e.barang_harga,class:"col-span-2",placeholder:"Ex.3"},null,8,["onInput","value"]),Object(r["createVNode"])(z,{onInput:function(t){return e.barang_jumlah=t.target.value},value:e.barang_jumlah,class:"col-span-2",placeholder:"Ex.3"},null,8,["onInput","value"]),Object(r["createVNode"])(z,{value:$.formatRupiah(e.barang_total),class:"col-span-2",disabled:"",placeholder:"Ex.Rp. 50.000"},null,8,["value"])])})),256)),Object(r["createVNode"])(X,{data_product:K.data_product,data_satuan:K.data_satuan,pembelian_item:K.order.order_item,type:K.order.order_tipe,onNewItem:t[7]||(t[7]=function(){})},null,8,["data_product","data_satuan","pembelian_item","type"])]),j,Object(r["createVNode"])("section",_,[h,Object(r["createVNode"])("div",f,[g,Object(r["createVNode"])("div",k,[Object(r["createVNode"])("p",v,Object(r["toDisplayString"])($.formatRupiah(K.order.order_sub_total)),1),Object(r["createVNode"])("div",N,[Object(r["withDirectives"])(Object(r["createVNode"])("select",{"onUpdate:modelValue":t[8]||(t[8]=function(e){return K.disc_type=e}),class:"rounded-md mr-2 bg-green-100 text-xs px-1"},[V,x],512),[[r["vModelSelect"],K.disc_type]]),Object(r["withDirectives"])(Object(r["createVNode"])("input",{type:"number",class:"border w-full rounded-md text-sm px-1 pl-2 py-1","onUpdate:modelValue":t[9]||(t[9]=function(e){return K.order.order_diskon=e})},null,512),[[r["vModelText"],K.order.order_diskon]])]),Object(r["createVNode"])("p",B,Object(r["toDisplayString"])($.formatRupiah($.order_total)),1),Object(r["createVNode"])("p",y,[0==K.order.order_diskon?(Object(r["openBlock"])(),Object(r["createBlock"])("span",T,"Tidak ada potongan")):(Object(r["openBlock"])(),Object(r["createBlock"])("span",w,[1==K.disc_type?(Object(r["openBlock"])(),Object(r["createBlock"])("span",C,"-"+Object(r["toDisplayString"])($.formatRupiah(K.order.order_diskon)),1)):Object(r["createCommentVNode"])("",!0),2==K.disc_type?(Object(r["openBlock"])(),Object(r["createBlock"])("span",S,Object(r["toDisplayString"])(K.order.order_diskon)+"%",1)):Object(r["createCommentVNode"])("",!0)]))])])])]),Object(r["createVNode"])("div",A,[Object(r["createVNode"])("div",D,[Object(r["createVNode"])("button",{onClick:t[10]||(t[10]=function(t){return e.$router.go(-1)}),class:"text-white rounded-md font-semibold text-sm mr-2 bg-red-500 px-3 py-3"},"Batal"),"ST200"!=K.order.order_status?(Object(r["openBlock"])(),Object(r["createBlock"])("button",{key:0,onClick:t[11]||(t[11]=function(e){return $.postData("ST202")}),class:"blue-glow-button text-sm h-10 mr-2"},[Object(r["createVNode"])(Z,{class:"mr-2 -mt-1"}),"ST202"==K.order.order_status?(Object(r["openBlock"])(),Object(r["createBlock"])("span",P,"Perbarui Data Order")):(Object(r["openBlock"])(),Object(r["createBlock"])("span",I,"Buat Order"))])):Object(r["createCommentVNode"])("",!0),"ST200"!=K.order.order_status?(Object(r["openBlock"])(),Object(r["createBlock"])("button",{key:1,onClick:t[12]||(t[12]=function(e){return $.postData("ST200")}),class:"green-glow-button text-sm h-10"},[Object(r["createVNode"])(ee,{class:"mr-2"}),""==K.order.order_status?(Object(r["openBlock"])(),Object(r["createBlock"])("span",R,"Buat Order dan Bayar")):Object(r["createCommentVNode"])("",!0),"ST202"==K.order.order_status?(Object(r["openBlock"])(),Object(r["createBlock"])("span",M,"Bayar")):Object(r["createCommentVNode"])("",!0)])):Object(r["createCommentVNode"])("",!0)])]),L,Object(r["createVNode"])("section",U,[J,Object(r["createVNode"])("p",q,[Object(r["createVNode"])(ee,{class:"mr-2"}),H])])])}a("159b"),a("a434"),a("d3b7"),a("25f0"),a("5319"),a("ac1f");var K=a("559a"),$=a("e305"),G=a("657e"),F=a("c0b5"),Y=a("3c1f"),z=a("c85d"),Q=a("1ea4"),W=a("2f83"),X=a("66b0"),Z=a("9cd0"),ee=a("7712"),te=a("b4a8"),ae=a("9400"),re=a("0bfe"),oe=a("3d20"),ce=a("bc3a"),ne={components:{formHeader:K["a"],formAddNewItem:$["a"],Tables:Q["a"],Text:F["a"],Select:z["a"],Date:Y["a"],Save:W["a"],Cash:X["a"],Plus:Z["a"],Trash:ee["a"],x:te["a"]},computed:{order_item:function(){var e=this,t=this.order.order_item;return this.order.order_sub_total=0,t?(t.forEach((function(a,r){var o=a.barang_harga*a.barang_jumlah;t[r].barang_total=o,e.order.order_sub_total+=o}),t),t):[]},order_total:function(){var e=this.order.order_sub_total;if(1==this.disc_type){var t=this.order.order_diskon;return this.order.order_total=e-t,this.order.order_total}var a=this.order.order_diskon,r=e*(a/100);this.order.order_total=e-r}},watch:{"order.order_diskon":function(e){var t="Operasi Ilegal",a="<b>Potongan</b> tidak boleh melebihi nilai \t\t\t\t\t\t\t\t<b class='text-red-600'>subtotal</b>";if(!(e<0))return 2==this.disc_type&&e>100?(this.order.order_diskon=0,void oe.fire(t,a,"error")):void(e>this.order.order_sub_total&&(this.order.order_diskon=0,oe.fire(t,a,"error")));this.order.order_diskon=0}},data:function(){return{order:new G["a"],data_supplier:[],data_product:[],data_satuan:[],data_posisi_stok:[],table_head:["ID","NAMA PRODUK","JUMLAH","SATUAN","PAJAK","TOTAL"],table_body:[],disc_type:1,disc_value:0}},methods:{deleteItemList:function(e){this.order.order_item.splice(e,e+1),oe.fire("Berhasil","Item berhasil dihapus","success")},formatRupiah:function(e){return Object(re["a"])(e.toString(),"Rp.")},getData:function(){Object(re["b"])(oe);var e=this;ce.get(ae["a"]+"/order/pembelian/form/"+e.$route.params.id).then((function(t){console.log(t.data),setTimeout((function(){e.order=t.data.order,e.data_supplier=t.data.data_supplier,e.data_product=t.data.data_barang,e.data_satuan=t.data.data_satuan,e.data_posisi_stok=t.data.data_posisi_stok,oe.close()}),500)}))},postData:function(e){var t=this,a=this,r=ae["a"]+"/order/pembelian/form";this.order.order_status=e,oe.fire({title:"Anda yakin?",text:"Apakah anda yakin ingin menambahkan transaksi pembelian ini?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#2ecc71",cancelButtonColor:"#e74c3c",confirmButtonText:"Ya, Tambahkan"}).then((function(e){e.isConfirmed&&(Object(re["b"])(oe),ce.post(r,t.order).then((function(e){oe.fire("Proses Berhasil","Data pembelian berhasil diubah","success"),a.$router.replace("/order/pembelian")})))})).catch((function(e){console.log(e),oe.close()}))}},created:function(){this.getData()}};a("61f0");ne.render=E;t["default"]=ne}}]);
//# sourceMappingURL=chunk-4d351062.73f5bb99.js.map